<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Keep 'git blame' clean | Andrey Nautilus blog</title><meta name=keywords content="git,gitconfig"><meta name=description content="Use .git-blame-ignore-revs file"><meta name=author content><link rel=canonical href=https://andreynautilus.github.io/posts/2025-08-23-git-blame-ignore/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://andreynautilus.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://andreynautilus.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://andreynautilus.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://andreynautilus.github.io/apple-touch-icon.png><link rel=mask-icon href=https://andreynautilus.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://andreynautilus.github.io/posts/2025-08-23-git-blame-ignore/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=text/javascript>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].a=e[o].a||[]).push(arguments)},e[o].l=1*new Date;for(var r=0;r<document.scripts.length;r++)if(document.scripts[r].src===s)return;i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(99367858,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/99367858 style=position:absolute;left:-9999px alt></div></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-S584PB390B"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-S584PB390B")</script><link rel=stylesheet href=/css/global/card_tags.min.08b084a05dddb2ae47b67783718d65c42eecc00cfee8c93fc63800741d66cc86.css integrity="sha256-CLCEoF3dsq5HtneDcY1lxC7swAz+6Mk/xjgAdB1mzIY=" as=style><link rel=stylesheet href=/css/global/builtin_icon.min.af7971272ac3da29f13218095878a0d6404d665d4c1192b7bfc4cc894d4eb76a.css integrity="sha256-r3lxJyrD2inxMhgJWHig1kBNZl1MEZK3v8TMiU1Ot2o=" as=style><meta property="og:url" content="https://andreynautilus.github.io/posts/2025-08-23-git-blame-ignore/"><meta property="og:site_name" content="Andrey Nautilus blog"><meta property="og:title" content="Keep 'git blame' clean"><meta property="og:description" content="Use .git-blame-ignore-revs file"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-23T19:44:29+02:00"><meta property="article:modified_time" content="2025-08-23T19:44:29+02:00"><meta property="article:tag" content="git"><meta property="article:tag" content="gitconfig"><meta name=twitter:card content="summary"><meta name=twitter:title content="Keep 'git blame' clean"><meta name=twitter:description content="Use .git-blame-ignore-revs file"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://andreynautilus.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Keep 'git blame' clean","item":"https://andreynautilus.github.io/posts/2025-08-23-git-blame-ignore/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Keep 'git blame' clean","name":"Keep \u0027git blame\u0027 clean","description":"Use .git-blame-ignore-revs file","keywords":["git","gitconfig"],"articleBody":"In the life of every big git repository there is a moment when a massive, yet simple change is required, for example:\nadoption of a new code style, or enforcing a style over the entire repo; changing of a widely used common practice (like switching from include guards to pragma once in C++ code); a widely used file/function/dependency needs to be renamed; These changes will “separate” the git history to before and after such massive commit, making the use of git blame quite challenging.\nIgnore specific commits during blame As usual, git has an option to workaround this. We can instruct git to ignore specific commits during blame operation:\ngit blame --ignore-rev 1dc479a9 -- filename We can save full hashes of such commits into a file (let’s call it .git-blame-ignore-revs):\n1dc479a9f9876b4c095a1665e1f206ddc76acdc8 # adoption of a new code style ANOTHER_COMMIT_HASH # massive renaming and pass this file to git:\ngit blame --ignore-revs-file .git-blame-ignore-revs -- filename To avoid typing this parameter every time, it’s possible to add it to the repo-local config. Then git will pick this file for every git blame operation:\ngit config --local blame.ignoreRevsFile .git-blame-ignore-revs git blame -- filename # will automatically use .git-blame-ignore-revs file Note: if this option is added to the global git configuration - git config --global blame.ignoreRevsFile .git-blame-ignore-revs - git will try to use this file for every repository in the system, and if a repository does not have this file, git will error out:\ngit blame -- filename fatal: could not open object name list: .git-blame-ignore-revs Integrations GitHub and GitLab support .git-blame-ignore-revs file. It must be in the root of the repository and must have exactly this name.\nIt seems that BitBucket doesn’t support this.\n","wordCount":"281","inLanguage":"en","datePublished":"2025-08-23T19:44:29+02:00","dateModified":"2025-08-23T19:44:29+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://andreynautilus.github.io/posts/2025-08-23-git-blame-ignore/"},"publisher":{"@type":"Organization","name":"Andrey Nautilus blog","logo":{"@type":"ImageObject","url":"https://andreynautilus.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://andreynautilus.github.io/ accesskey=h title="Andrey Nautilus blog (Alt + H)"><img src=https://andreynautilus.github.io/apple-touch-icon.png alt aria-label=logo height=35>Andrey Nautilus blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://andreynautilus.github.io/links/ title=links><span>links</span></a></li><li><a href=https://andreynautilus.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://andreynautilus.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://github.com/AndreyNautilus/AndreyNautilus.github.io title=src><span>src</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://andreynautilus.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://andreynautilus.github.io/posts/>posts</a></div><h1 class="post-title entry-hint-parent">Keep 'git blame' clean</h1><div class=post-meta><span title='2025-08-23 19:44:29 +0200 +0200'>August 23, 2025</span>&nbsp;·&nbsp;2 min</div></header><div class=post-content><p>In the life of every big git repository there is a moment when a massive, yet simple change is required,
for example:</p><ul><li>adoption of a new code style, or enforcing a style over the entire repo;</li><li>changing of a widely used common practice (like switching from
<a href=https://en.wikipedia.org/wiki/Include_guard>include guards</a> to
<a href=https://en.cppreference.com/w/cpp/preprocessor/impl>pragma once</a> in C++ code);</li><li>a widely used file/function/dependency needs to be renamed;</li></ul><p>These changes will &ldquo;separate&rdquo; the git history to <em>before</em> and <em>after</em> such massive commit,
making the use of <code>git blame</code> quite challenging.</p><h2 id=ignore-specific-commits-during-blame>Ignore specific commits during blame<a hidden class=anchor aria-hidden=true href=#ignore-specific-commits-during-blame>#</a></h2><p>As usual, git has an option to workaround this. We can
<a href=https://git-scm.com/docs/git-blame#Documentation/git-blame.txt---ignore-revrev>instruct</a> git
to ignore specific commits during blame operation:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git blame --ignore-rev 1dc479a9 -- filename
</span></span></code></pre></div><p>We can save full hashes of such commits into a file (let&rsquo;s call it <code>.git-blame-ignore-revs</code>):</p><pre tabindex=0><code>1dc479a9f9876b4c095a1665e1f206ddc76acdc8  # adoption of a new code style
ANOTHER_COMMIT_HASH  # massive renaming
</code></pre><p>and pass this file to git:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git blame --ignore-revs-file .git-blame-ignore-revs -- filename
</span></span></code></pre></div><p>To avoid typing this parameter every time, it&rsquo;s possible to add it to the repo-local config.
Then git will pick this file for every <code>git blame</code> operation:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --local blame.ignoreRevsFile .git-blame-ignore-revs
</span></span><span class=line><span class=cl>git blame -- filename  <span class=c1># will automatically use .git-blame-ignore-revs file</span>
</span></span></code></pre></div><blockquote><p><em>Note</em>: if this option is added to the <em>global</em> git configuration -
<code>git config --global blame.ignoreRevsFile .git-blame-ignore-revs</code> - git will try to use this file
for every repository in the system, and if a repository does not have this file, git will error out:</p><pre tabindex=0><code>git blame -- filename
fatal: could not open object name list: .git-blame-ignore-revs
</code></pre></blockquote><h2 id=integrations>Integrations<a hidden class=anchor aria-hidden=true href=#integrations>#</a></h2><p><a href=https://docs.github.com/en/repositories/working-with-files/using-files/viewing-and-understanding-files#ignore-commits-in-the-blame-view>GitHub</a>
and <a href=https://docs.gitlab.com/user/project/repository/files/git_blame/#ignore-specific-revisions>GitLab</a>
support <code>.git-blame-ignore-revs</code> file. It must be in the root of the repository and must have exactly this name.</p><p>It seems that <a href=https://jira.atlassian.com/browse/BSERV-12730>BitBucket doesn&rsquo;t support this</a>.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://andreynautilus.github.io/tags/git/>git</a></li><li><a href=https://andreynautilus.github.io/tags/gitconfig/>gitconfig</a></li></ul><nav class=paginav><a class=next href=https://andreynautilus.github.io/posts/2025-08-19-github-workflow_dispatch-from-branch/><span class=title>Next »</span><br><span>Send workflow_dispatch event to not-default branch</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://andreynautilus.github.io/>Andrey Nautilus blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>