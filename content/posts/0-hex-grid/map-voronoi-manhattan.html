<div class="canvas-wrapper">
<canvas id="map-voronoi-manhattan" width="700" height="400"></canvas>
<script type="module">
const Colors = [
    ColorDarkRose,
    ColorPurple,
    ColorBlue,
    ColorLightGreen,
    ColorGreen,
    ColorOrange,
    ColorGrey,
]

function distanceManhattan(p1, p2) {
    return Math.abs(p1.row - p2.row) + Math.abs(p1.col - p2.col);
}

function generateAndRenderMap_voronoi_manhattan() {
    const canvas = document.getElementById("map-voronoi-manhattan");

    const cell_radius = 5;
    const cell_diameter = 2 * cell_radius;

    // construct grid
    const cols_count = Math.floor((canvas.width - cell_radius) / cell_diameter);
    const rows_count = Math.floor(canvas.height / cell_diameter);
    const grid = new HexGrid(rows_count, cols_count);

    // generate random map
    const initialPoints = fillGridViaVoronoi(grid, Colors, distanceManhattan);

    // draw map
    renderGrid(canvas, grid, initialPoints, [], cell_radius);
}

document.getElementById("map-voronoi-manhattan").addEventListener('click', generateAndRenderMap_voronoi_manhattan);
generateAndRenderMap_voronoi_manhattan();

</script>
</div>
